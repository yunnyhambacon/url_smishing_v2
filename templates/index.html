<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ğŸ›¡ï¸ ì•ˆì‹¬ ë§í¬ íŒë³„ ì‹œìŠ¤í…œ ğŸ›¡ï¸</title>
  <style>
    body {
      margin: 0;
      padding: 2rem;
      font-family: 'Malgun Gothic', Arial, sans-serif;
      background-color: #ffffff;
      text-align: center;
      color: #333;
    }

    /* ì œëª© ìŠ¤íƒ€ì¼ */
    h1 {
      font-size: 2.8rem;
      font-weight: bold;
      margin: 1rem 0 0.5rem;
      color: #222;
    }

    /* subtitle í¬ê¸° í‚¤ìš°ê¸° */
    p.subtitle {
      font-size: 1.8rem;
      margin-bottom: 2rem;
      color: #555;
    }

    /* ì…ë ¥ì°½ í™•ëŒ€ */
    input[type="text"] {
      width: 90%;
      max-width: 700px;
      padding: 1.5rem;
      font-size: 1.3rem;
      border: 3px solid #888;
      border-radius: 0.8rem;
      outline: none;
      margin-bottom: 1rem;
    }
    input[type="text"]:focus {
      border-color: #00e1ff;
      box-shadow: 0 0 10px rgba(0,225,255,0.6);
    }

    /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ (ë„¤ì˜¨ íš¨ê³¼ ì œê±°) */
    button {
      padding: 1rem 2rem;
      font-size: 1.4rem;
      font-weight: bold;
      color: #fff;
      background-color: #007bff;
      border: none;
      border-radius: 1rem;
      cursor: pointer;
      transition: background-color .3s, box-shadow .3s;
    }
    button:hover {
      background-color: #0056b3;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    }

    /* ê²°ê³¼ í‘œì‹œ */
    #result {
      margin-top: 2rem;
      font-size: 2rem;
      font-weight: bold;
      padding: 1rem;
      border-radius: 1rem;
      display: inline-block;
      min-width: 300px;
      transition: transform .3s;
    }
    #result.show {
      transform: scale(1.1);
    }
  </style>
</head>
<body>
  <h1>ğŸ›¡ï¸ ì•ˆì‹¬ ë§í¬ íŒë³„ ì‹œìŠ¤í…œ ğŸ›¡ï¸</h1>
  <p class="subtitle">
    URLì„ ì…ë ¥í•˜ë©´ ìœ„í—˜ë„ë¥¼ ë¶„ì„í•´ë“œë¦½ë‹ˆë‹¤.
  </p>

  <form id="urlForm">
    <input
      type="text"
      id="urlInput"
      placeholder="ì˜ˆ: https://example.com"
      required
      aria-label="URL ì…ë ¥"
    >
    <br>
    <button type="submit">ë§í¬ í™•ì¸</button>
  </form>

  <div id="result"></div>

  <script>
    const form = document.getElementById('urlForm');
    const input = document.getElementById('urlInput');
    const result = document.getElementById('result');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const url = input.value.trim();
      result.className = '';
      result.style.color = '#333';
      result.innerText = 'ğŸ”„ í™•ì¸ ì¤‘ ì…ë‹ˆë‹¤...';

      try {
        const res = await fetch('/predict', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ url })
        });
        const data = await res.json();
        const prob = data.bad_prob;
        let msg, bg;

        if (prob >= 0.7) {
          msg = `ğŸš¨ ë§¤ìš° ìœ„í—˜í•©ë‹ˆë‹¤! (ìœ„í—˜ë„: ${prob})`;
          bg  = 'rgba(255, 0, 0, 0.1)';
          result.style.color = 'red';
        } else if (prob >= 0.3) {
          msg = `âš ï¸ ì£¼ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤. (ìœ„í—˜ë„: ${prob})`;
          bg  = 'rgba(255, 165, 0, 0.1)';
          result.style.color = 'orange';
        } else {
          msg = `âœ… ì•ˆì „í•œ ë§í¬ì…ë‹ˆë‹¤. (ìœ„í—˜ë„: ${prob})`;
          bg  = 'rgba(0, 128, 0, 0.1)';
          result.style.color = 'green';
        }

        result.innerText = msg;
        result.style.backgroundColor = bg;
        result.classList.add('show');
      } catch (err) {
        result.innerText = 'â— ì˜ˆì¸¡ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
        result.style.color = 'black';
      }
    });
  </script>
</body>
</html>
